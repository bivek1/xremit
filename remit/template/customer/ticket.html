{% extends 'customer/dashboard.html' %}
{% load static %}

{% block title %}
    Create a ticket and support
{% endblock title %}
    


{% block inside %}
<div class="row p-0 m-0 mt-3">
    <div class="mt-3 mb-3">
      <span class="breadcum">
        <a href="{%url 'customer:dashboard'%}">
            Dashboard
        </a>/
        Support/Ticket
      </span>
    </div>

    <div class="row p-0 m-0 mt-3">
        <div class="d-flex justify-content-between">
            <h5>
                Create a new ticket for your suport
            </h5>
            <a href="{%url 'customer:ticketList'%}" class="mb-2">
                 <button class="btn btn-danger">
                     Ticket List
                 </button>
            </a>
        </div>
      
       
       <hr>
       <div class="col-12 col-lg-6 m-auto">
            <div class="text-center">
                <i class="fa fa-headset text-primary" style="font-size: 40px;"></i>
            </div>
            
       </div>
       <h5 class="mt-3 text-center">You are open to ask for a support</h5>
       <small class="text-center">By opening a ticket, you will be able to express the issue you bear within this platform</small>
       <div class="p-2 mt-3">
            <div class="row m-0" id="supportTop">
                <h2 class="head-para text-dark">
                    <i class="fa fa-contact-book"></i> Contact Information
                </h2>
                <div class="col-6">
                    <h6 class="mt-2">
                        Your Full Name*
                    </h6>
                    <input class="form-control" type="text" name="" id="" value="{{user.get_full_name}}" disabled>
                </div>

                <div class="col-6">
                    <h6 class="mt-2">
                        Your Email Address*
                    </h6>
                    <input class="form-control" type="text" name="" id="" value="{{user.email}}" disabled>
                </div>
                <div class="col-6">
                    <h6 class="mt-2">
                        Your Phone Number*
                    </h6>
                    <input class="form-control" type="text" name="" id="" value="{{user.customer.number}}" disabled>
                </div>
                <div class="col-6">
                    <h6 class="mt-2">
                        Your Email Address*
                    </h6>
                    <input class="form-control" type="text" name="" id="" value="{{user.customer.address}}" disabled>
                </div>
                <small class="text-secondary mt-2">
                If the information given is incorrect please visit profile and update your information.
                <a href="{%url 'customer:profile'%}">Click here</a>   
                </small>
            </div>
       </div>

       <div class="p-2 mt-3">
            <form class="row m-0" action="" method="post" enctype="multipart/form-data"  id="supportSecond">
                <h2 class="head-para text-dark">
                    <i class="fa fa-ticket"></i> Ticket Information
                </h2>
                <div class="col-6">
                    <h6 class="mt-2">
                        Select Department*
                    </h6>
                    {{form.department}}
                </div>
    
                <div class="col-6">
                    <h6 class="mt-2">
                        Select Ticket Piority*
                    </h6>
                    {{form.piority}}
                </div>
                <div class="col-12">
                    <h6 class="mt-2">
                        Ticket Subject*
                    </h6>
                    {{form.subject}}
                </div>
                <div class="col-12">
                    <h6 class="mt-2">
                        Ticket Description*
                    </h6>
                    {{form.description}}
                    {{form.media}}
                </div>
                <h5 class="mt-3">
                    If you have a image that describe the issue upload it here..
                </h5>
                <div id="images" style ="display: inline-table;">
                    <input type="file"  accept="image/*" name="file[]">
                
                </div>
                <div>
                    <button class="mt-3" type="button" name="add_image" id="add_image" style=" background-color: #bbc9bc; /* Green */
                    border: none;
                    color: rgb(0, 0, 0);
                    padding: 15px 25px;
                    text-align: center;
                    text-decoration: none;
                    display: inline-block;
                    font-size: 16px;"> + </button>
                </div>
           
                <small class="text-secondary mt-2">
                If the information given is incorrect please visit profile and update your information.
                <a href="{%url 'customer:profile'%}">Click here</a>   
                </small>
    
                {% csrf_token %}
                <button type="submit" class="btn btn-primary mt-3">
                    Submit
                </button>
            </form>

   </div>

    </div>
</div>
<script>
    document.getElementById("add_image").onclick = function (ev){

      var image = document.getElementById("images");
      var newInput = document.createElement("input");
      newInput.type = "file"
      newInput.name = "file[]"
      newInput.className = "mt-2"
      image.appendChild(newInput);
  }
</script>

{% endblock inside %}
    